{"version":3,"sources":["pages/Mensagem.jsx","services/userAPI.js","pages/Login.jsx","components/Header.jsx","components/Footer.jsx","services/searchAlbumsAPI.js","pages/Search.jsx","services/musicsAPI.js","components/MusicCard.jsx","services/favoriteSongsAPI.js","pages/Album.jsx","pages/Favorites.jsx","pages/Profile.jsx","pages/ProfileEdit.jsx","pages/NotFound.jsx","App.js","index.js"],"names":["Mensagem","className","USER_KEY","saveUser","user","localStorage","setItem","JSON","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","parse","getItem","createUser","name","email","image","description","updateUser","updatedUser","DEFAULT_IMG_URL","Login","state","isButtonDisabled","loading","redirect","handleChange","value","target","setState","handleButtonStatus","length","handleSubmit","a","this","to","htmlFor","type","onChange","disabled","onClick","Component","Header","getLoggedUser","src","alt","Footer","searchAlbumsAPI","artist","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","fetch","APIResponse","json","results","map","artistId","artistName","collectionId","collectionName","collectionPrice","artworkUrl100","releaseDate","trackCount","ARTIST_NAME","Search","apiWasFetched","placeholder","replace","getMusics","id","request","requestJson","MusicCard","props","data","trackId","trackName","previewUrl","handleFavoriteSong","checked","favoriteImg","index","controls","kind","PropTypes","string","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","getFavoriteSongs","addSong","song","removeSong","filter","s","Album","album","copyright","tracks","favorites","fetchAlbumMusics","slice","isFavoriteSong","some","track","match","Favorites","fetchFavoriteSongs","favorite","artworkUrl60","Profile","ProfileEdit","handleSaveButtonStatus","validateEmptyFields","validateEmail","every","field","trim","test","prevUser","NotFound","App","path","component","render","params","exact","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b1bf7608.chunk.js","sourcesContent":["import React from 'react';\nimport '../styles/Mensagem.css';\n\nconst Mensagem = () => <div className=\"Mensagem\" />;\n\nexport default Mensagem;\n","const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Mensagem from './Mensagem';\nimport { createUser } from '../services/userAPI';\nimport '../styles/Login.css';\n\nconst MIN_LENGTH = 3;\nconst DEFAULT_IMG_URL = 'https://github.com/identicons/jasonlong.png';\nclass Login extends Component {\n  state = {\n    name: '',\n    isButtonDisabled: true,\n    loading: false,\n    redirect: false,\n  };\n\n  handleChange = ({ target: { value } }) => {\n    this.setState({ name: value }, () => this.handleButtonStatus());\n  };\n\n  handleButtonStatus = () => {\n    const { name } = this.state;\n    if (name.length >= MIN_LENGTH) {\n      this.setState({ isButtonDisabled: false });\n    } else {\n      this.setState({ isButtonDisabled: true });\n    }\n  };\n\n  handleSubmit = async () => {\n    const { name } = this.state;\n    this.setState({ loading: true });\n    await createUser({ name, image: DEFAULT_IMG_URL });\n    this.setState({ redirect: true });\n  };\n\n  render() {\n    const { name, isButtonDisabled, loading, redirect } = this.state;\n\n    return (\n      <div data-testid=\"page-login\" className=\"Login\">\n        <div className=\"logo\">\n          <i className=\"fab fa-spotify fa-2x\" />\n          <span className=\"trybe-tunes\">\n            <strong>TrybeTunes</strong>\n          </span>\n        </div>\n        {redirect && <Redirect to=\"/search\" />}\n        {loading ? (\n          <Mensagem />\n        ) : (\n          <div className=\"form-login\">\n            <form>\n              <label htmlFor=\"name\">\n                <small><strong>Nome de usuário</strong></small>\n                <input\n                  data-testid=\"login-name-input\"\n                  type=\"text\"\n                  name=\"name\"\n                  value={ name }\n                  onChange={ this.handleChange }\n                />\n              </label>\n              <button\n                type=\"button\"\n                data-testid=\"login-submit-button\"\n                disabled={ isButtonDisabled }\n                onClick={ this.handleSubmit }\n              >\n                <strong>Entrar</strong>\n              </button>\n            </form>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Mensagem from '../pages/Mensagem';\nimport { getUser } from '../services/userAPI';\nimport '../styles/Header.css';\n\nclass Header extends Component {\n  state = {\n    loading: false,\n    name: '',\n    image: '',\n  };\n\n  componentDidMount() {\n    this.getLoggedUser();\n  }\n\n  getLoggedUser = async () => {\n    this.setState({ loading: true });\n    const { name, image } = await getUser();\n    this.setState({ name, image, loading: false });\n  };\n\n  render() {\n    const { loading, name, image } = this.state;\n    return (\n      <header data-testid=\"header-component\" className=\"Header\">\n        <div className=\"logo\">\n          <i className=\"fab fa-spotify fa-2x\" />\n          <span className=\"trybe-tunes\">\n            <strong>TrybeTunes</strong>\n          </span>\n        </div>\n        <div className=\"nav-section\">\n          <nav>\n            <li>\n              <Link data-testid=\"link-to-search\" to=\"/search\">\n                Pesquisa\n              </Link>\n            </li>\n            <li>\n              <Link data-testid=\"link-to-favorites\" to=\"/favorites\">\n                Favoritos\n              </Link>\n            </li>\n            <li>\n              <Link data-testid=\"link-to-profile\" to=\"/profile\">\n                Perfil\n              </Link>\n            </li>\n          </nav>\n          <hr />\n          {loading ? (\n            <Mensagem />\n          ) : (\n            <div className=\"profile-header\">\n              <img src={ image } alt=\"\" />\n              <span data-testid=\"header-user-name\">{name}</span>\n            </div>\n          )}\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React from 'react';\nimport '../styles/Footer.css';\n\nconst Footer = () => (\n  <footer className=\"Footer\">\n    <p>\n      Made with\n      {' '}\n      <i className=\"fas fa-heart green\" />\n      {' '}\n      by Rafael Giori\n    </p>\n  </footer>\n);\n\nexport default Footer;\n","const searchAlbumsAPI = async (artist) => {\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const response = results.map(\n    ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }) => ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }),\n  );\n  return response;\n};\n\nexport default searchAlbumsAPI;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport Mensagem from './Mensagem';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport '../styles/Search.css';\n\nconst MIN_LENGTH = 2;\nlet ARTIST_NAME = '';\nclass Search extends Component {\n  state = {\n    loading: false,\n    artistName: '',\n    isButtonDisabled: true,\n    apiWasFetched: false,\n    response: [],\n  };\n\n  handleChange = ({ target: { value } }) => {\n    this.setState({ artistName: value }, () => this.handleButtonStatus());\n  };\n\n  handleButtonStatus = () => {\n    const { artistName } = this.state;\n    if (artistName.length >= MIN_LENGTH) {\n      this.setState({ isButtonDisabled: false });\n    } else {\n      this.setState({ isButtonDisabled: true });\n    }\n  };\n\n  handleSubmit = async () => {\n    const { artistName } = this.state;\n    ARTIST_NAME = artistName;\n    this.setState({ loading: true });\n    const response = await searchAlbumsAPI(artistName);\n    this.setState({\n      loading: false,\n      artistName: '',\n      response,\n      apiWasFetched: true,\n    });\n  };\n\n  render() {\n    const { loading, artistName, isButtonDisabled, response, apiWasFetched } = this.state;\n    return (\n      <main>\n        <Header />\n        {loading ? (\n          <div className=\"loading\">\n            <Mensagem />\n          </div>\n        ) : (\n          <div data-testid=\"page-search\" className=\"Search\">\n            <div className=\"search-header\">\n              <input\n                data-testid=\"search-artist-input\"\n                type=\"text\"\n                value={ artistName }\n                onChange={ this.handleChange }\n                placeholder=\"Nome do artista\"\n              />\n              <button\n                type=\"button\"\n                data-testid=\"search-artist-button\"\n                disabled={ isButtonDisabled }\n                onClick={ this.handleSubmit }\n              >\n                Pesquisar\n              </button>\n            </div>\n          </div>\n        )}\n        <div className=\"search-result\">\n          {apiWasFetched && response.length > 0 && (\n            <p className=\"search-title-center\">\n              {`Todos os álbuns para \"${ARTIST_NAME}\"`}\n            </p>\n          )}\n          {apiWasFetched && response.length === 0 && (\n            <p className=\"search-title-center\">\n              {`Nenhum resultado encontrado para \"${ARTIST_NAME}\"`}\n            </p>\n          )}\n          <div className=\"album-list\">\n            {response.map(\n              ({\n                artworkUrl100,\n                collectionId,\n                collectionName,\n                artistName: artist,\n              }) => (\n                <div key={ collectionId } className=\"album-card\">\n                  <Link\n                    data-testid={ `link-to-album-${collectionId}` }\n                    to={ `/album/${collectionId}` }\n                  >\n                    <img\n                      src={ artworkUrl100.replace(\n                        '100x100bb.jpg',\n                        '600x600bb.jpg',\n                      ) }\n                      alt=\"\"\n                    />\n                    <div className=\"album-card-info\">\n                      <p>{collectionName}</p>\n                      <p>{artist}</p>\n                    </div>\n                  </Link>\n                </div>\n              ),\n            )}\n          </div>\n        </div>\n        <Footer />\n      </main>\n    );\n  }\n}\n\nexport default Search;\n","const getMusics = async (id) => {\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\n  const requestJson = await request.json();\n  return requestJson.results;\n};\n\nexport default getMusics;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport '../styles/MusicCard.css';\n\nclass MusicCard extends Component {\n  render() {\n    const {\n      data: { artistName, trackId, trackName, previewUrl },\n      data,\n      handleFavoriteSong,\n      checked,\n      favoriteImg,\n      index,\n    } = this.props;\n    return (\n      <div className=\"track-container\">\n        <div className=\"MusicCard\">\n          <p className=\"track-number\">\n            <strong>{index}</strong>\n          </p>\n          {favoriteImg && (\n            <img\n              src={ favoriteImg }\n              alt=\"\"\n            />\n          )}\n          <div className=\"track-infos\">\n            <p>{trackName}</p>\n            <p>{artistName}</p>\n          </div>\n          <audio data-testid=\"audio-component\" src={ previewUrl } controls>\n            <track kind=\"captions\" />\n            O seu navegador não suporta o elemento\n            {' '}\n            <code>audio</code>\n            .\n          </audio>\n          <label htmlFor={ trackId }>\n            <input\n              data-testid={ `checkbox-music-${trackId}` }\n              type=\"checkbox\"\n              name={ trackId }\n              id={ trackId }\n              onChange={ () => handleFavoriteSong(data) }\n              checked={ checked }\n            />\n          </label>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst { string } = PropTypes;\n\nMusicCard.propTypes = {\n  trackId: string,\n  trackName: string,\n  previewUrl: string,\n}.isRequired;\n\nexport default MusicCard;\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\nconst TIMEOUT = 500;\nconst SUCCESS_STATUS = 'OK';\n\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\n}\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\n\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso futuramente.\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getFavoriteSongs = () => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  simulateRequest(favoriteSongs)(resolve);\n});\n\nexport const addSong = (song) => new Promise((resolve) => {\n  if (song) {\n    const favoriteSongs = readFavoriteSongs();\n    saveFavoriteSongs([...favoriteSongs, song]);\n  }\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const removeSong = (song) => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport getMusics from '../services/musicsAPI';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport Mensagem from './Mensagem';\nimport MusicCard from '../components/MusicCard';\nimport '../styles/Album.css';\nimport {\n  addSong,\n  getFavoriteSongs,\n  removeSong,\n} from '../services/favoriteSongsAPI';\n\n// Made with Alessandro Achtenberg\nclass Album extends Component {\n  state = {\n    album: {},\n    artworkUrl100: '',\n    copyright: '',\n    tracks: [],\n    loading: false,\n    favorites: [],\n  };\n\n  componentDidMount() {\n    this.fetchAlbumMusics();\n  }\n\n  fetchAlbumMusics = async () => {\n    const { id } = this.props;\n    const response = await getMusics(id);\n    const { artworkUrl100, copyright } = response[0];\n    const favorites = await getFavoriteSongs();\n    this.setState({\n      album: response[0],\n      artworkUrl100,\n      copyright,\n      tracks: response.slice(1),\n      favorites,\n    });\n  };\n\n  isFavoriteSong = (id) => {\n    const { favorites } = this.state;\n    return favorites.some(({ trackId }) => trackId === id);\n  };\n\n  handleFavoriteSong = async (track) => {\n    this.setState({ loading: true });\n    if (this.isFavoriteSong(track.trackId)) await removeSong(track);\n    else await addSong(track);\n    const favorites = await getFavoriteSongs();\n    this.setState({ loading: false, favorites });\n  };\n\n  render() {\n    const {\n      album: { artistName, collectionName },\n      artworkUrl100,\n      tracks,\n      copyright,\n      loading,\n    } = this.state;\n    return (\n      <main>\n        <Header />\n        <div className=\"Album\">\n          {loading ? (\n            <div className=\"loading\">\n              <Mensagem />\n            </div>\n          ) : (\n            <div data-testid=\"page-album\" className=\"album-content\">\n              <div className=\"album-infos\">\n                <img\n                  className=\"blurred\"\n                  src={ artworkUrl100.replace('100x100bb.jpg', '600x600bb.jpg') }\n                  alt=\"\"\n                />\n                <img\n                  className=\"cover\"\n                  src={ artworkUrl100.replace('100x100bb.jpg', '600x600bb.jpg') }\n                  alt=\"\"\n                />\n                <div className=\"album-infos-text\">\n                  <small>\n                    <strong>ALBUM</strong>\n                  </small>\n                  <p data-testid=\"album-name\">\n                    <strong>{collectionName}</strong>\n                  </p>\n                  <small data-testid=\"artist-name\">\n                    <strong>{artistName}</strong>\n                    <span>{` ⚬ ${copyright.match(/\\d+/)}`}</span>\n                    <span>{` ⚬ ${tracks.length} músicas`}</span>\n                  </small>\n                </div>\n              </div>\n              <hr />\n              <div className=\"album-tracks\">\n                {tracks.map((track, index) => (\n                  <MusicCard\n                    key={ track.trackId }\n                    data={ track }\n                    index={ +index + 1 }\n                    handleFavoriteSong={ this.handleFavoriteSong }\n                    checked={ this.isFavoriteSong(track.trackId) }\n                  />\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n        <Footer />\n      </main>\n    );\n  }\n}\n\nAlbum.propTypes = {\n  id: PropTypes.string,\n}.isRequired;\n\nexport default Album;\n","import React, { Component } from 'react';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport Mensagem from './Mensagem';\nimport MusicCard from '../components/MusicCard';\nimport { getUser } from '../services/userAPI';\nimport { getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\nimport '../styles/Favorites.css';\n\nclass Favorites extends Component {\n  state = {\n    loading: false,\n    favorites: [],\n    name: '',\n    image: '',\n  };\n\n  componentDidMount() {\n    this.fetchFavoriteSongs();\n    this.getLoggedUser();\n  }\n\n  fetchFavoriteSongs = async () => {\n    this.setState({ loading: true });\n    const favorites = await getFavoriteSongs();\n    this.setState({ loading: false, favorites });\n  };\n\n  isFavoriteSong = (id) => {\n    const { favorites } = this.state;\n    return favorites.some(({ trackId }) => trackId === id);\n  };\n\n  handleFavoriteSong = async (track) => {\n    this.setState({ loading: true });\n    if (this.isFavoriteSong(track.trackId)) await removeSong(track);\n    const favorites = await getFavoriteSongs();\n    this.setState({ loading: false, favorites });\n  };\n\n  getLoggedUser = async () => {\n    this.setState({ loading: true });\n    const { name, image } = await getUser();\n    this.setState({ name, image, loading: false });\n  };\n\n  render() {\n    const { loading, favorites, name, image } = this.state;\n    return (\n      <main>\n        <Header />\n        <div className=\"Favorites\">\n          {loading ? (\n            <div className=\"loading\">\n              <Mensagem />\n            </div>\n          ) : (\n            <div data-testid=\"page-favorites\" className=\"favorites-content\">\n              <div className=\"favorites-infos\">\n                <img\n                  className=\"blurred\"\n                  src=\"https://i.pinimg.com/564x/fe/5c/36/fe5c36b8b4cbaa728f3c03a311e002cb.jpg\"\n                  alt=\"\"\n                />\n                <img\n                  className=\"cover\"\n                  src=\"https://i.pinimg.com/564x/fe/5c/36/fe5c36b8b4cbaa728f3c03a311e002cb.jpg\"\n                  alt=\"\"\n                />\n                <div className=\"favorites-infos-text\">\n                  <small>\n                    <strong>PLAYLIST</strong>\n                  </small>\n                  <p>\n                    <strong>Músicas Favoritas</strong>\n                  </p>\n                  <small className=\"favorites-profile\">\n                    <img src={ image } alt=\"\" />\n                    <strong>{name}</strong>\n                    <span>{` ⚬ ${favorites.length} músicas`}</span>\n                  </small>\n                </div>\n              </div>\n              <hr />\n              <div className=\"favorites-tracks\">\n                {favorites.map((favorite, index) => (\n                  <div key={ favorite.trackId }>\n                    <MusicCard\n                      data={ favorite }\n                      index={ index + 1 }\n                      favoriteImg={ favorite.artworkUrl60 }\n                      handleFavoriteSong={ this.handleFavoriteSong }\n                      checked={ this.isFavoriteSong(favorite.trackId) }\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n          <Footer />\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default Favorites;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport Mensagem from './Mensagem';\nimport { getUser } from '../services/userAPI';\nimport '../styles/Profile.css';\n\nclass Profile extends Component {\n  state = {\n    loading: false,\n    user: {},\n  };\n\n  componentDidMount() {\n    this.getLoggedUser();\n  }\n\n  getLoggedUser = async () => {\n    this.setState({ loading: true });\n    const user = await getUser();\n    this.setState({ loading: false, user });\n  };\n\n  render() {\n    const {\n      loading,\n      user: { name, email, image, description },\n    } = this.state;\n    return (\n      <main>\n        <Header />\n        {loading ? (\n          <div className=\"loading\">\n            <Mensagem />\n          </div>\n        ) : (\n          <div data-testid=\"page-profile\" className=\"Profile\">\n            <img data-testid=\"profile-image\" src={ image } alt=\"Profile\" />\n            <div className=\"profile-infos\">\n              <small>\n                <strong>PERFIL</strong>\n              </small>\n              <p>\n                <strong>{name}</strong>\n              </p>\n              <p>{email}</p>\n              <p>{description}</p>\n              <button type=\"button\">\n                <Link to=\"/profile/edit\">Editar perfil</Link>\n              </button>\n            </div>\n          </div>\n        )}\n        <Footer />\n      </main>\n    );\n  }\n}\n\nexport default Profile;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport Mensagem from './Mensagem';\nimport { getUser, updateUser } from '../services/userAPI';\nimport '../styles/ProfileEdit.css';\n\nclass ProfileEdit extends Component {\n  state = {\n    loading: false,\n    isButtonDisabled: true,\n    user: {},\n    redirect: false,\n  };\n\n  componentDidMount() {\n    this.getLoggedUser();\n  }\n\n  handleSaveButtonStatus = () => {\n    const flag = this.validateEmptyFields() && this.validateEmail();\n    if (flag) this.setState({ isButtonDisabled: false });\n    else this.setState({ isButtonDisabled: true });\n  };\n\n  validateEmptyFields = () => {\n    const {\n      user: { name, image, description },\n    } = this.state;\n    const fields = [name, image, description];\n    return fields.every((field) => field.trim().length > 0);\n  };\n\n  // Regex from https://stackoverflow.com/questions/4964691/super-simple-email-validation-with-javascript\n  validateEmail = () => {\n    const {\n      user: { email },\n    } = this.state;\n    return /^\\S+@\\S+\\.\\S+$/.test(email);\n  };\n\n  handleChange = ({ target: { name, value } }) => {\n    this.setState(\n      ({ user: prevUser }) => ({\n        user: { ...prevUser, [name]: value },\n      }),\n      () => this.handleSaveButtonStatus(),\n    );\n  };\n\n  getLoggedUser = async () => {\n    this.setState({ loading: true });\n    const user = await getUser();\n    this.setState({ loading: false, user }, () => this.handleSaveButtonStatus());\n  };\n\n  handleSubmit = async () => {\n    const { user } = this.state;\n    this.setState({ loading: true });\n    await updateUser(user);\n    this.setState({ redirect: true });\n  };\n\n  render() {\n    const {\n      loading,\n      isButtonDisabled,\n      user: { name, email, image, description },\n      redirect,\n    } = this.state;\n    return (\n      <main>\n        <Header />\n        {redirect && <Redirect to=\"/profile\" />}\n        {loading ? (\n          <div className=\"loading\">\n            <Mensagem />\n          </div>\n        ) : (\n          <div data-testid=\"page-profile-edit\" className=\"ProfileEdit\">\n            <form>\n              <img src={ image } alt=\"Profile\" />\n              <label htmlFor=\"image\">\n                <small>\n                  <strong>Imagem de perfil</strong>\n                </small>\n                <input\n                  data-testid=\"edit-input-image\"\n                  name=\"image\"\n                  type=\"text\"\n                  value={ image }\n                  onChange={ this.handleChange }\n                />\n              </label>\n              <label htmlFor=\"name\">\n                <small>\n                  <strong>Nome</strong>\n                </small>\n                <input\n                  data-testid=\"edit-input-name\"\n                  name=\"name\"\n                  type=\"text\"\n                  value={ name }\n                  onChange={ this.handleChange }\n                />\n              </label>\n              <label htmlFor=\"email\">\n                <small>\n                  <strong>E-mail</strong>\n                </small>\n                <input\n                  data-testid=\"edit-input-email\"\n                  name=\"email\"\n                  type=\"text\"\n                  value={ email }\n                  onChange={ this.handleChange }\n                />\n              </label>\n              <label htmlFor=\"description\">\n                <small>\n                  <strong>Descrição</strong>\n                </small>\n                <textarea\n                  data-testid=\"edit-input-description\"\n                  name=\"description\"\n                  type=\"text\"\n                  value={ description }\n                  onChange={ this.handleChange }\n                />\n              </label>\n              <button\n                type=\"button\"\n                data-testid=\"edit-button-save\"\n                disabled={ isButtonDisabled }\n                onClick={ this.handleSubmit }\n              >\n                Salvar perfil\n              </button>\n            </form>\n          </div>\n        )}\n        <Footer />\n      </main>\n    );\n  }\n}\n\nexport default ProfileEdit;\n","import React from 'react';\n\nconst NotFound = () => <div data-testid=\"page-not-found\" />;\n\nexport default NotFound;\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Search from './pages/Search';\nimport Album from './pages/Album';\nimport Favorites from './pages/Favorites';\nimport Profile from './pages/Profile';\nimport ProfileEdit from './pages/ProfileEdit';\nimport NotFound from './pages/NotFound';\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <Switch>\n          <Route path=\"/profile/edit\" component={ ProfileEdit } />\n          <Route path=\"/profile\" component={ Profile } />\n          <Route path=\"/favorites\" component={ Favorites } />\n          <Route\n            path=\"/album/:id\"\n            render={ ({ match: { params } }) => <Album { ...params } /> }\n          />\n          <Route path=\"/search\" component={ Search } />\n          <Route exact path=\"/trybe-tunes\" component={ Login } />\n          <Route path=\"*\" component={ NotFound } />\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}